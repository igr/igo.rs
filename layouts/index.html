{{ define "main" }}
{{ $jodd := "https://jodd.org" }}
{{ $github := "https://github.com/igr" }}
{{ $lin := "https://www.linkedin.com/in/igorspasic/" }}
{{ $photos := "https://500px.com/igo_rs" }}
{{ $hs := "https://heapspace.rs" }}
{{ $blog := "https://oblac.rs" }}
{{ $mail := "mailto:igor.spasic+hello@gmail.com" }}

<div id="table">
    <div class="row">
    	{{ partial "cell" (dict "n" "code" "l" "C")}}
        {{ partial "cell" (dict "n" "code" "l" "o")}}
        {{ partial "cell" (dict "n" "code" "l" "d")}}
        {{ partial "cell" (dict "n" "code" "l" "e")}}
        {{ partial "cell" (dict "n" "work" "l" "W")}}
    </div>
    <div class="row">
        {{ partial "cell" (dict "n" "work" "l" "o")}}
        {{ partial "cell" (dict "n" "work" "l" "r")}}
        {{ partial "cell" (dict "n" "work" "l" "k")}}
        {{ partial "cell" (dict "n" "make" "l" "M")}}
        {{ partial "cell" (dict "n" "make" "l" "a")}}
    </div>
    <div class="row">
        {{ partial "cell" (dict "n" "make" "l" "k")}}
        {{ partial "cell" (dict "n" "make" "l" "e")}}
        {{ partial "cell" (dict "n" "impact" "l" "I")}}
        {{ partial "cell" (dict "n" "impact" "l" "m")}}
        {{ partial "cell" (dict "n" "impact" "l" "p")}}
    </div>
    <div class="row">
        {{ partial "cell" (dict "n" "impact" "l" "a")}}
        {{ partial "cell" (dict "n" "impact" "l" "c")}}
        {{ partial "cell" (dict "n" "impact" "l" "t")}}
        {{ partial "cell" (dict "n" "contact" "l" "C")}}
        {{ partial "cell" (dict "n" "contact" "l" "o")}}
    </div>
    <div class="row">
        {{ partial "cell" (dict "n" "contact" "l" "n")}}
        {{ partial "cell" (dict "n" "contact" "l" "t")}}
        {{ partial "cell" (dict "n" "contact" "l" "a")}}
        {{ partial "cell" (dict "n" "contact" "l" "c")}}
        {{ partial "cell" (dict "n" "contact" "l" "t")}}
    </div>
</div>

{{ end }}

{{ define "script"}}
<script type="text/javascript">
var classSelected;

$(function() {
    // clicker
    $('div.row div a').click(function() {
        const box = $(this).parent();
        const classClicked = box.attr('class');
        if (box.hasClass(classSelected)) {
            // unclick
            $('.'+ classSelected).removeClass('selected');
            classSelected = undefined;
        }
        else {
            // click
            $('div.row div').removeClass('selected');
            classSelected = classClicked;
            $('.'+ classSelected).addClass('selected');
        }
    });

    // hover
	$('div.row div').mouseenter(function() {
		const classHover = $(this).data('name');
        console.log(classHover);
		$('.'+ classHover +'> a').addClass('hov');
	})
	.mouseleave(function() {
		$('div.row div > a').removeClass('hov');
	});
});
</script>
{{ end }}